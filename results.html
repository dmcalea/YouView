<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>YouTube</title>

    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
    <link rel="stylesheet" href="css/master.css">
    <link rel="stylesheet" href="css/results.css">

    <script src="js/library/jquery.js" charset="utf-8"></script>
    <script src="js/library/moment.js" charset="utf-8"></script>

    <script src="js/scripts/video.js" charset="utf-8"></script>
    <script src="js/scripts/api.js" charset="utf-8"></script>
    <script src="js/scripts/control.js" charset="utf-8"></script>

    <script>

    // reference: https://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript/901144#901144
    function getParameterByName(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, " "));
    }

    console.log(getParameterByName("search_query"));

    $( document ).ready(function() {
      $("#search").val(getParameterByName("search_query"));
    });

    </script>

  </head>
  <body>

    <!-- Navbar, width:100%, height:56px, padding:16px -->
    <div class="navbar">
      <div class="control">
        <img id="collapse" src="img/menu.svg" class="control-menu">
        <a href="index.html"><img src="img/youtube.png" class="control-logo"></a>
      </div>
      <div class="search">
        <form class="search-form" action="results.html" method="GET">
          <input type="text" id="search" name="search_query" class="search-input" placeholder="Search">
          <button class="search-btn"><img src="img/search.svg"></button>
        </form>
      </div>
      <div class="account">
        <img src="img/upload_video.svg" class="account-item">
        <img src="img/apps.svg" class="account-item">
        <img src="img/notifications.svg" class="account-item">
        <img src="img/account.svg" class="account-item">
      </div>
    </div>

    <!-- Main Content -->
    <div class="container">

      <div class="sidebar">
        <div class="item-container">
          <div class="item">
            <img src="img/home.svg" class="item-img">
            <span style="font-weight:700;">Home</span>
          </div>
          <div class="item">
            <img src="img/trending.svg" class="item-img"> Trending
          </div>
          <div class="item">
            <img src="img/subscriptions.svg" class="item-img"> Subscriptions
          </div>
        </div>
        <div class="item-container">
          <div class="item-title">
            LIBRARY
          </div>
          <div class="item">
            <img src="img/history.svg" class="item-img"> History
          </div>
          <div class="item">
            <img src="img/watch_later.svg" class="item-img"> Watch later
          </div>
          <div class="item">
            <img src="img/playlist.svg" class="item-img"> Music
          </div>
          <div class="item">
            <img src="img/playlist.svg" class="item-img"> Favorites
          </div>
        </div>
      </div>

      <div class="content full">
        <div class="video-container">

          <script> videoResults(getParameterByName("search_query"), 15); </script>

        </div>
      </div>

    </div>

  </body>
</html>
